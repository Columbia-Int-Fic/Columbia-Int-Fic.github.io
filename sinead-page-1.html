<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="style.css"/>
        <link href="https://fonts.googleapis.com/css2?family=Cedarville+Cursive&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Maven+Pro:wght@400;700&display=swap" rel="stylesheet"> <!-- Maven Pro font -->
        <link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>what IF: Sinéad & Louisa</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="shortcut icon" href="images/white-logo.svg" type="image/x-icon"/>

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-176737183-2"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-176737183-1');
        </script>
    </head>
    <body id="story-body" onload="reload()">
        
        <!-- Ideally make the h2 and h1 as class so you can use
        same CSS across different webpages for different stories. 
         <header class="story-head">
            <a href="index.html"><h2 class="story-pg-whatif">WHAT IF</h2></a>
            <h1 class="story-pg-title">Sinead and Louisa</h1>
        </header> -->

            <div class="sinead-splash">
                <h1 class="sinead-txt-1">Sinéad & Louisa</h1>
                <p class="sinead-txt-2">Written by: <br> Jane Loughman and Elisabeth McLaughlin</p>
                <p class="sinead-txt-3">click to continue</p>
                <script>
                    const splash = document.querySelector('.sinead-splash');
                    splash.onclick = function() {
                        console.log("clicked to continue!");
                        setTimeout(()=>{
                            splash.classList.add('display-none');
                        }, 0);
                    }
                </script>
              </div>

            <div class="story-txt">
                <iframe
                    mozallowfullscreen="true"
                    src="sinead-story-1.html"
                    frameborder="0"
                    width="100%" height="100%"
                    id="twine-embed">
                </iframe>
            </div>

            <!--Overlay that appears on top of the page-->
            <div id="bg-modal">

                <!--Email notification overlay-->
                <div class="modal-email" id="email-1">
                    <h2 id="notif">You've got mail!</h2>
                    <p id="modal-email-text">
                    </p> <br>
                    <btn id="open-btn" onclick="off()">OPEN</btn>
                </div>

                <!--Picture overlay-->
                <div id="modal-pic">
                        <img height="500"
                        src=""
                        id="myImage"
                        onclick="off()"> 
                </div>
            </div>

            <!--Script for opening overlay-->
            <script>
                window.onmessage = function(e) {
                    s = e.data.toString();
                    simg = s.substring(0, 3);
                    semail = s.substring(0, 5);
                    sbg = s.substring(0, 2);
                    console.log("simg: " + simg);
                    console.log("semail: " + semail);
                    if (simg == "sta") {
                        off();
                    }
                    else if (simg=="img") {
                        on();
                        var num = s.replace('img','');
                        s = num;
                        console.log(s);
                        document.getElementById("myImage").src = "images/sinead/img" + s + ".jpg";
                        console.log(document.getElementById("myImage").src);
                    }
                    else if (simg=="gif") {
                        on();
                        var num = s.replace('gif','');
                        s = num;
                        console.log(s);
                        document.getElementById("myImage").src = "images/sinead/gif" + s + ".gif";
                    }
                    else if (sbg=="bg") {
                        var num = s.replace('bg','');
                        s = num;
                        console.log("bg: " + s);
                        var body = document.getElementById("story-body");
                        if (s==1) {
                            body.style.backgroundImage = "url('images/sinead/bg-1.jpg')";
                            body.style.backgroundColor = "#541211";
                        }
                        else if (s==2) {
                            body.style.backgroundImage = "url('images/sinead/bg-2.jpg')";
                            body.style.backgroundColor = "#172740";
                        }
                        else if (s==3) {
                            body.style.backgroundImage = "url('images/sinead/bg-3.jpg')";
                            body.style.backgroundColor = "#541211";
                        }
                        else if (s==4) {
                            body.style.backgroundImage = "url('images/sinead/bg-4.jpg')";
                            body.style.backgroundColor = "#172740";
                        }
                        else if (s==5) {
                            body.style.backgroundImage = "url('images/sinead/bg-5.jpg')";
                            body.style.backgroundColor = "#541211";
                        }
                        else if (s==6) {
                            body.style.backgroundImage = "url('images/sinead/bg-6.jpg')";
                            body.style.backgroundColor = "#172740";
                        }
                        else if (s==7) {
                            body.style.backgroundImage = "url('images/sinead/bg-7.jpg')";
                            body.style.backgroundColor = "#541211";
                        }
                        else if (s==8) {
                            body.style.backgroundImage = "url('images/sinead/bg-8.jpg')";
                            body.style.backgroundColor = "#172740";
                        }
                        else if (s==9) {
                            body.style.backgroundImage = "url('images/sinead/bg-9.jpg')";
                            body.style.backgroundColor = "#541211";
                        }
                        else if (s==10) {
                            body.style.backgroundImage = "url('images/sinead/bg-10.jpg')";
                            body.style.backgroundColor = "#172740";
                        }
                        else if (s==11) {
                            body.style.backgroundImage = "url('images/sinead/bg-11.jpg')";
                            body.style.backgroundColor = "#541211";
                        }
                        else if (s==12) {
                            body.style.backgroundImage = "url('images/sinead/bg-12.jpg')";
                            body.style.backgroundColor = "#172740";
                        }
                    }
                    else if (semail=="email") {
                        var num = s.replace('email','');
                        s = num;
                        console.log(s);
                        emailOn(s);
                    }
                    else if (simg=="end") {
                        window.location.href = "credits.html";
                    }
                    
                }
                function on() {
                    document.getElementById('email-1').style.display = "none";
                    document.getElementById('bg-modal').style.display = "block";
                    document.getElementById('modal-pic').style.display="block";
                }
                function off() {
                    document.getElementById('bg-modal').style.display = "none";
                    document.getElementById('email-1').style.display="none";
                    document.getElementById('modal-pic').style.display="none";
                }

                function emailOn(x) {
                    console.log("the email number " + x);
                    document.getElementById('email-1').style.display = "block";
                    document.getElementById('bg-modal').style.display = "block";
                    document.getElementById('modal-pic').style.display="none";
                    if (x==1) {
                        document.getElementById('modal-email-text').innerHTML="<b>From:</b> Louisa Jones (louisianajones@cifmail.com) <br>\
                        <b>To:</b> Sinéad Murphy (shinnyshinny@cifmail.com) <br>\
                        <b>Date:</b> Sunday, March 15, 5:36pm<br>\
                        <b><u>Subject:</u> I miss carnival and cotton candy and my phone</b><br>";
                    }
                    if (x==2) {
                        document.getElementById('modal-email-text').innerHTML="<b>From:</b> Sinéad Murphy (shinnyshinny@cifmail.com) <br>\
                        <b>To:</b> Louisa Jones (louisianajones@cifmail.com)<br>\
                        <b>Date:</b> Wednesday, Mar 18, 12:07pm<br>\
                        <b><u>Subject:</u> The world is ending??!</b><br>";
                    }
                    if (x==3) {
                        document.getElementById('modal-email-text').innerHTML="<b>From:</b> Louisa Jones (louisianajones@cifmail.com) <br>\
                        <b>To:</b> Sinéad Murphy (shinnyshinny@cifmail.com) <br>\
                        <b>Date:</b> Sunday, April 17, 4:36 pm<br>\
                        <b><u>Subject:</u> I miss school and choosing to be bored</b><br>";
                    }
                    if (x==4) {
                        document.getElementById('modal-email-text').innerHTML="<b>From:</b> Sinéad Murphy (shinnyshinny@cifmail.com) <br>\
                        <b>To:</b> Louisa Jones (louisianajones@cifmail.com)<br>\
                        <b>Date:</b> Sunday, Apr 19, 7:32pm<br>\
                        <b><u>Subject:</u> Lockdown with the Murphys</b><br>";
                    }
                    if (x==5) {
                        document.getElementById('modal-email-text').innerHTML="<b>From:</b> Louisa Jones (louisianajones@cifmail.com) <br>\
                        <b>To:</b> Sinéad Murphy (shinnyshinny@cifmail.com) <br>\
                        <b>Date:</b> Sunday, May 17, 12:23pm<br>\
                        <b><u>Subject:</u> Friends, final classes, and fever dreams</b><br>";
                    }
                    if (x==6) {
                        document.getElementById('modal-email-text').innerHTML="<b>From:</b> Sinéad Murphy (shinnyshinny@cifmail.com) <br>\
                        <b>To:</b> Louisa Jones (louisianajones@cifmail.com)<br>\
                        <b>Date:</b> Tuesday, May 19, 2:26pm<br>\
                        <b><u>Subject:</u> A birthday nightmare</b><br>";
                    }
                    if (x==7) {
                        document.getElementById('modal-email-text').innerHTML="<b>From:</b> Louisa Jones (louisianajones@cifmail.com) <br>\
                        <b>To:</b> Sinéad Murphy (shinnyshinny@cifmail.com) <br>\
                        <b>Date:</b> Monday, June 8, 12:03 pm<br>\
                        <b><u>Subject:</u> I miss when Jane would talk to me</b><br>";
                    }
                    if (x==8) {
                        document.getElementById('modal-email-text').innerHTML="<b>From:</b> Sinéad Murphy (shinnyshinny@cifmail.com) <br>\
                        <b>To:</b> Louisa Jones (louisianajones@cifmail.com)<br>\
                        <b>Date:</b> Thursday, Jun 11, 1:32pm<br>\
                        <b><u>Subject:</u> Protests and shop openings</b><br>";
                    }
                    if (x==9) {
                        document.getElementById('modal-email-text').innerHTML="<b>From:</b> Louisa Jones (louisianajones@cifmail.com) <br>\
                        <b>To:</b> Sinéad Murphy (shinnyshinny@cifmail.com) <br>\
                        <b>Date:</b> Friday, July 23, 7:54pm<br>\
                        <b><u>Subject:</u> Home, heat, and hospital calls</b><br>";
                    }
                    if (x==10) {
                        document.getElementById('modal-email-text').innerHTML="<b>From:</b> Sinéad Murphy (shinnyshinny@cifmail.com) <br>\
                        <b>To:</b> Louisa Jones (louisianajones@cifmail.com)<br>\
                        <b>Date:</b> Sunday, July 26, 8:46pm<br>\
                        <b><u>Subject:</u> Writing camps and prayers</b><br>";
                    }
                    if (x==11) {
                        document.getElementById('modal-email-text').innerHTML="<b>From:</b> Louisa Jones (louisianajones@cifmail.com) <br>\
                        <b>To:</b> Sinéad Murphy (shinnyshinny@cifmail.com) <br>\
                        <b>Date:</b> Friday, August 14, 7:54pm<br>\
                        <b><u>Subject:</u> School, safety, and shared excitement</b><br>";
                    }
                    if (x==12) {
                        document.getElementById('modal-email-text').innerHTML="<b>From:</b> Sinéad Murphy (shinnyshinny@cifmail.com) <br>\
                        <b>To:</b> Louisa Jones (louisianajones@cifmail.com)<br>\
                        <b>Date:</b> Sun, Aug 16, 1:46pm<br>\
                        <b><u>Subject:</u> Connemara adventures and secondary school soon!</b><br>";
                    }
                }

                function reload() {
                    var x = document.getElementById('twine-embed').contentWindow;
                    x.postMessage('reload', '*');
                } 

                window.onbeforeunload = function(){
                     return 'Your progress will not be saved!';
                };

            </script>
    </body>
</html>